package com.example.ext_mateuszbratkows.androidmalwaredetec.data.local.database;

import android.content.Context;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteOpenHelper;
import android.os.Environment;

import java.io.File;

/**
 * Created by ext_mateusz.bratkows on 2016-05-22.
 */
public class LocalDbHelper extends SQLiteOpenHelper {

    private static final int DATABASE_VERSION = 1;
    private static final String DATABASE_NAME = "applications.db";
    private static final String TEXT_TYPE = " TEXT";
    private static final String INTEGER_TYPE = " INTEGER";
    private static final String COMMA_SEP = ",";
    private static final String SQL_DROP_ENTRIES = "DROP TABLE application";
    private static final String SQL_CREATE_ENTRIES =
            "CREATE TABLE " + LocalPersistenceContract.ApplicationInfoEntry.TABLE_NAME + " (" +
                    LocalPersistenceContract.ApplicationInfoEntry._ID + INTEGER_TYPE + " PRIMARY_KEY," +
                    LocalPersistenceContract.ApplicationInfoEntry.APPLICATION_NAME + TEXT_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.APPLICATION_PACKAGE + TEXT_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_ACCESS_CHECKIN_PROPERTIES + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_ACCESS_COARSE_LOCATION + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_ACCESS_FINE_LOCATION + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_ACCESS_LOCATION_EXTRA_COMMANDS + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_ACCESS_NETWORK_STATE + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_ACCESS_NOTIFICATION_POLICY + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_ACCESS_WIFI_STATE + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_ACCOUNT_MANAGER + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_ADD_VOICEMAIL + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_BATTERY_STATS + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_BIND_ACCESSIBILITY_SERVICE + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_BIND_APPWIDGET + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_BIND_CARRIER_MESSAGING_SERVICE + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_BIND_CARRIER_SERVICES + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_BIND_CHOOSER_TARGET_SERVICE + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_BIND_DEVICE_ADMIN + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_BIND_DREAM_SERVICE + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_BIND_INCALL_SERVICE + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_BIND_INPUT_METHOD + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_BIND_MIDI_DEVICE_SERVICE + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_BIND_NFC_SERVICE + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_BIND_NOTIFICATION_LISTENER_SERVICE + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_BIND_PRINT_SERVICE + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_BIND_REMOTEVIEWS + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_BIND_TELECOM_CONNECTION_SERVICE + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_BIND_TEXT_SERVICE + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_BIND_TV_INPUT + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_BIND_VOICE_INTERACTION + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_BIND_VPN_SERVICE + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_BIND_WALLPAPER + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_BLUETOOTH + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_BLUETOOTH_ADMIN + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_BLUETOOTH_PRIVILEGED + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_BODY_SENSORS + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_BROADCAST_PACKAGE_REMOVED + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_BROADCAST_SMS + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_BROADCAST_STICKY + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_BROADCAST_WAP_PUSH + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_CALL_PHONE + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_CALL_PRIVILEGED + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_CAMERA + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_CAPTURE_AUDIO_OUTPUT + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_CAPTURE_SECURE_VIDEO_OUTPUT + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_CAPTURE_VIDEO_OUTPUT + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_CHANGE_COMPONENT_ENABLED_STATE + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_CHANGE_CONFIGURATION + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_CHANGE_NETWORK_STATE + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_CHANGE_WIFI_MULTICAST_STATE + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_CHANGE_WIFI_STATE + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_CLEAR_APP_CACHE + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_CONTROL_LOCATION_UPDATES + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_DELETE_CACHE_FILES + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_DELETE_PACKAGES + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_DIAGNOSTIC + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_DISABLE_KEYGUARD + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_DUMP + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_EXPAND_STATUS_BAR + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_FACTORY_TEST + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_FLASHLIGHT + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_GET_ACCOUNTS + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_GET_ACCOUNTS_PRIVILEGED + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_GET_PACKAGE_SIZE + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_GET_TASKS + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_GLOBAL_SEARCH + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_INSTALL_LOCATION_PROVIDER + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_INSTALL_PACKAGES + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_INSTALL_SHORTCUT + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_INTERNET + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_KILL_BACKGROUND_PROCESSES + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_LOCATION_HARDWARE + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_MANAGE_DOCUMENTS + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_MASTER_CLEAR + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_MEDIA_CONTENT_CONTROL + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_MODIFY_AUDIO_SETTINGS + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_MODIFY_PHONE_STATE + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_MOUNT_FORMAT_FILESYSTEMS + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_MOUNT_UNMOUNT_FILESYSTEMS + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_NFC + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_PACKAGE_USAGE_STATS + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_PERSISTENT_ACTIVITY + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_PROCESS_OUTGOING_CALLS + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_READ_CALENDAR + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_READ_CALL_LOG + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_READ_CONTACTS + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_READ_EXTERNAL_STORAGE + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_READ_FRAME_BUFFER + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_READ_INPUT_STATE + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_READ_LOGS + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_READ_PHONE_STATE + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_READ_SMS + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_READ_SYNC_SETTINGS + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_READ_SYNC_STATS + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_READ_VOICEMAIL + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_REBOOT + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_RECEIVE_BOOT_COMPLETED + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_RECEIVE_MMS + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_RECEIVE_SMS + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_RECEIVE_WAP_PUSH + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_RECORD_AUDIO + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_REORDER_TASKS + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_REQUEST_IGNORE_BATTERY_OPTIMIZATIONS + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_REQUEST_INSTALL_PACKAGES + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_RESTART_PACKAGES + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_SEND_RESPOND_VIA_MESSAGE + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_SEND_SMS + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_SET_ALARM + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_SET_ALWAYS_FINISH + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_SET_ANIMATION_SCALE + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_SET_DEBUG_APP + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_SET_PREFERRED_APPLICATIONS + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_SET_PROCESS_LIMIT + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_SET_TIME + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_SET_TIME_ZONE + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_SET_WALLPAPER + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_SET_WALLPAPER_HINTS + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_SIGNAL_PERSISTENT_PROCESSES + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_STATUS_BAR + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_SYSTEM_ALERT_WINDOW + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_TRANSMIT_IR + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_UNINSTALL_SHORTCUT + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_UPDATE_DEVICE_STATS + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_USE_FINGERPRINT + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_USE_SIP + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_VIBRATE + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_WAKE_LOCK + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_WRITE_APN_SETTINGS + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_WRITE_CALENDAR + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_WRITE_CALL_LOG + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_WRITE_CONTACTS + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_WRITE_EXTERNAL_STORAGE + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_WRITE_GSERVICES + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_WRITE_SECURE_SETTINGS + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_WRITE_SETTINGS + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_WRITE_SYNC_SETTINGS + INTEGER_TYPE + COMMA_SEP +
                    LocalPersistenceContract.ApplicationInfoEntry.PERMISSION_WRITE_VOICEMAIL + INTEGER_TYPE +
                    LocalPersistenceContract.ApplicationInfoEntry.CLASS + " )";


    public LocalDbHelper(Context context) {
        super(context, DATABASE_NAME, null, DATABASE_VERSION);
    }

    @Override
    public void onCreate(SQLiteDatabase db) {
        db.execSQL(SQL_DROP_ENTRIES);
        db.execSQL(SQL_CREATE_ENTRIES);
    }

    @Override
    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {

    }
}
